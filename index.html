<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="timbres.js"></script>
    <script src="programming-language.js"></script>
    <script src="globals.js"></script>
    <script src="demos.js"></script>
    <script src="index.js"></script>
    <title>Music Lang</title>

    <style>
      body {
	  width: 100%;
	  display: flex;
	  flex-flow: row wrap;
      }

      #docs-container, th, td {
	  border: 1px solid black;
      }

      #editor {
	  flex-grow: 1;
	  max-width: 550px;
      }

      #docs {
          flex-grow: 1;
	  max-width: 550px;
      }

      .func-name:hover {
          background-color: yellow;
      }
    </style>
  </head>

  <body>
    <div id="editor">
      <div>
	NOTE: if your screen is less than 1000px wide this might be ugly.
	<a href="https://github.com/hemangandhi/music-lang-js/issues/new">Hit me up</a> if you want it fixed.
      </div>
      <textarea id="src-txt-area" cols="60" rows="40"></textarea>
      <div id="err-out-area"></div>
      <button onclick="runMusic('src-txt-area', 'err-out-area')">Play!</button>
      <div>
	Yet another language about music. Check out
	<a href="https://github.com/hemangandhi/music-lang-js">the underlying Github</a>
	so you can complain.
      </div>
      <div>
	Here are some demos in the language. Click "save" to save the text in the text area above into a cookie
	(this is the only use of cookies by this site) and add an option for it in the drop down menu.
	<label for="demo-drop-down">Select a demo (including anything you may have saved)</label>
	<select id="demo-drop-down">
	  <option value="clear" id="clear-demo-option"></option>
	</select>
        <button onclick="saveEditorTxt('src-txt-area', 'clear-demo-option')">Save</button>
      </div>
    </div>

    <div id="docs">
      <div>Here's a quick how-to for using this site:</div>
      <ol>
	<li>Click on any of the function snippets in the table below to add them. (You'll see an error under the "Format Code" button if that fails.)</li>
	<li>If you're getting confused by what the code is, try formatting it by clicking on the "Format Code button".</li>
	<li>When you're ready to try to play the piece, check the "Remove [hints]" box and format the code -- just to be sure it's neat and correct.</li>
	<li>Press play!</li>
      </ol>
      <table id="docs-container"></table>
      <input type="checkbox" id="format-rm-hints"></input>
      <label for="format-rm-hints">Remove <code>[hints]</code></label>
      <button onclick="formatCode('src-txt-area', 'snippets-errors', 'format-rm-hints')">Format Code</button>
      <div id="snippets-errors"></div>
    </div>

    <div id="timbres">
      <div>Here are the known timbres and what they mean:</div>
      <table id="timbres-container"></table>
    </div>
    
    <script>
      makeDocsTable("docs-container", "src-txt-area", "snippets-errors", "timbres-container");
      loadDemos("demo-drop-down", "src-txt-area");
    </script>
  </body>
</html>
